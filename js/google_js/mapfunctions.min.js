function wpestate_agency_map_function(){"use strict";var e=jQuery("#agency_map").attr("data-cur_lat"),a=jQuery("#agency_map").attr("data-cur_long");if(1==mapfunctions_vars.geolocation_type){var t={flat:!1,noClear:!1,zoom:15,scrollwheel:!1,draggable:!0,center:new google.maps.LatLng(e,a),streetViewControl:!1,disableDefaultUI:!0,mapTypeId:mapfunctions_vars.type.toLowerCase(),gestureHandling:"cooperative"},s=new google.maps.Map(document.getElementById("agency_map"),t);if(""!==mapfunctions_vars.map_style){var o=JSON.parse(mapfunctions_vars.map_style);s.setOptions({styles:o})}google.maps.visualRefresh=!0,google.maps.event.trigger(s,"resize");var r=new google.maps.LatLng(e,a);new google.maps.Marker({position:r,map:s,icon:wpesate_custompin_agency(),shape:shape,title:"we are here",zIndex:1,infoWindowIndex:0})}else wpresidence_agency_dev_map(e,a,"agency_map")}function wpresidence_agency_dev_map(e,a,t){"use strict";var s=L.latLng(e,a),o=L.map(t,{center:s,zoom:7}),r=wpresidence_open_stret_tile_details();o.addLayer(r);var n=L.latLng(e,a),i={iconUrl:images.single_pin,iconSize:[44,50],iconAnchor:[20,50],popupAnchor:[1,-50]},p={riseOnHover:!0};p.icon=L.icon(i);var c=L.marker(n,p);c.addTo(o)}function wpesate_custompin_agency(){"use strict";var e={url:images.single_pin,size:new google.maps.Size(59,59),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(16,59)};return e}function wpestate_map_shortcode_function(){"use strict";var e={},a={};jQuery(".googleMap_shortcode_class").each(function(){var t=jQuery(this),s=jQuery(this).parent(),o=(t=jQuery(this),t.attr("id")),r=parseInt(t.attr("data-post_id"),10),n=t.attr("data-cur_lat"),i=t.attr("data-cur_long"),p="";a[o]=[],"undefined"==typeof googlecode_property_vars?(p=5,heading=0,jQuery("#modal_property_maps").length>0?(p=t.attr("data-prop-zoom"),heading=0):(p=5,heading=0)):(p=googlecode_property_vars.page_custom_zoom,heading=parseInt(googlecode_property_vars.camera_angle));var c=1,_=r,l=n,u=i,d=decodeURIComponent(t.attr("data-title")),m=t.attr("data-pin"),g=1,v=decodeURIComponent(t.attr("data-thumb")),f=decodeURIComponent(t.attr("data-price")),h=decodeURIComponent(t.attr("data-single-first-type")),w=decodeURIComponent(t.attr("data-single-first-action")),y=decodeURIComponent(t.attr("data-prop_url")),k="",b="",j=decodeURIComponent(t.attr("data-rooms")),x=decodeURIComponent(t.attr("data-bathrooms")),Q=decodeURIComponent(t.attr("data-size")),I=decodeURIComponent(t.attr("data-single-first-type")),C=decodeURIComponent(t.attr("data-single-first-action")),z="",S=decodeURIComponent(t.attr("data-pin_price")),B=decodeURIComponent(t.attr("data-clean_price"));if(2==wp_estate_kind_of_map){var P=L.latLng(n,i);e[o]=L.map(t.attr("id"),{center:P,zoom:p}).on("load",function(e){jQuery("#gmap-loading").remove()}),wpresidence_leaflet_initialize_map_common(e[o]),wpestate_createMarker_sh_leaflet(S,E,a[o],e[o],z,Q,c,_,l,u,m,d,g,v,f,h,w,y,k,b,j,x,B,I,C)}else if(t.length>0){var T={flat:!1,noClear:!1,zoom:parseInt(p,10),scrollwheel:!1,draggable:!0,center:new google.maps.LatLng(n,i),streetViewControl:!1,disableDefaultUI:!0,mapTypeId:mapfunctions_vars.type.toLowerCase(),gestureHandling:"cooperative"};e[o]=new google.maps.Map(document.getElementById(o),T),google.maps.visualRefresh=!0,google.maps.event.trigger(e[o],"resize");var M=700,U=jQuery(window).width();U<900&&(M=500),U<600&&(M=400),U<400&&(M=200);var R=document.createElement("div"),O={content:R,disableAutoPan:!0,maxWidth:M,boxClass:"mybox",zIndex:null,closeBoxMargin:"-13px 0px 0px 0px",closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!0},E=new InfoBox(O);if(""!==mapfunctions_vars.map_style){var N=JSON.parse(mapfunctions_vars.map_style);e[o].setOptions({styles:N})}wpestate_createMarker_sh(S,E,a[o],e[o],z,Q,c,_,l,u,m,d,g,v,f,h,w,y,k,b,j,x,B,I,C);var A=new google.maps.LatLng(n,i);if(void 0===Z);var Z=e[o].getStreetView();Z.setPosition(A),Z.setPov({heading:heading,pitch:0}),s.find(".slider_enable_street_sh").click(function(){var e=t.attr("data-cur_lat"),a=t.attr("data-cur_long"),o=new google.maps.LatLng(e,a);Z.setPosition(o),Z.setVisible(!0),s.find(".gmapzoomminus_sh, .gmapzoomplus_sh, .slider_enable_street_sh").hide()}),google.maps.event.addListener(Z,"closeclick",function(){s.find(".gmapzoomminus_sh, .gmapzoomplus_sh, .slider_enable_street_sh").show()}),mapfunctions_vars.hidden_map&&(google.maps.event.trigger(a[o][0],"click"),setTimeout(function(){google.maps.event.trigger(e[o],"resize"),e[o].setCenter(a[o][0].position)},300)),wpestate_initialize_poi(e[o],2,o)}s.find(".gmapzoomplus_sh").click(function(){var a=parseInt(e[o].getZoom(),10);a++,a>20&&(a=20),e[o].setZoom(a)}),s.find(".gmapzoomminus_sh").click(function(){var a=parseInt(e[o].getZoom(),10);a--,a<0&&(a=0),e[o].setZoom(a)}),2==wp_estate_kind_of_map?setTimeout(function(){e[o].invalidateSize()},1e3):setTimeout(function(){google.maps.event.trigger(e[o],"resize")},1e3),jQuery(".shtabmap, .shacctab,#overview_map").click(function(a){2==wp_estate_kind_of_map?setTimeout(function(){e[o].invalidateSize()},100):setTimeout(function(){google.maps.event.trigger(e[o],"resize")},100)})})}function wpestate_createMarker_sh_leaflet(e,a,t,s,o,r,n,i,p,c,_,l,u,d,m,g,v,f,h,w,y,k,b,j,x){"use strict";var Q=document.createElement("div");Q.className="leafinfobox-wrapper";var I="",C=" price_infobox ";"yes"===mapfunctions_vars.useprice&&(C=" openstreet_map_price_infobox ");var z="";z=""===d?mapfunctions_vars.path+"/idxdefault.jpg":d;var S,B,P,T=decodeURIComponent(g.replace(/-/g," ")),M=decodeURIComponent(v.replace(/-/g," "));decodeURIComponent(j.replace(/-/g," ")),decodeURIComponent(x.replace(/-/g," ")),mapfunctions_vars.in_text;S=""!=k&&0!=k?'<span id="infobath">'+k+" "+mapfunctions_vars.ba+"</span>":"",B=""!=y&&0!=y?'<span id="inforoom">'+y+" "+mapfunctions_vars.bd+"</span>":"",P=""!=r?'<span id="infosize">'+r+"</span>":"";l=l.substr(0,30);l.length>30&&(l+="..."),I+=wpestate_generate_infobox_leaflet(C,l,f,z,m,b,P,S,B);var U={riseOnHover:!0},R=L.latLng(p,c),O="";if(mapfunctions_vars.hidden_map)if("yes"===mapfunctions_vars.useprice){var E="wpestate_marker openstreet_price_marker "+wpestate_makeSafeForCSS(j.trim())+" "+wpestate_makeSafeForCSS(x.trim()),N='<div class="'+E+'">';void 0!==m&&("no"===mapfunctions_vars.use_price_pins_full_price?N+='<div class="interior_pin_price">'+e+"</div>":N+='<div class="interior_pin_price">'+m+"</div>"),N+="</div>";var A=L.divIcon({className:"someclass",iconSize:new L.Point(0,0),html:N});O=L.marker(R,{icon:A})}else{var Z={iconUrl:wprentals_custompin_leaflet(_),iconSize:[44,50],iconAnchor:[20,50],popupAnchor:[1,-50]};U.icon=L.icon(Z),O=L.marker(R,U)}else O=L.circle(R,{color:"#0073e1",fillColor:"#0073e1",fillOpacity:.4,strokeWeight:.2,radius:120});O.idul=i,O.pin=_,O.addTo(s),t.push(O),void 0!==bounds_list?bounds_list.extend(O.getLatLng()):bounds_list=L.latLngBounds(O.getLatLng(),O.getLatLng()),Q.innerHTML=I,O.bindPopup(I),mapfunctions_vars.hidden_map&&O.fire("click").openPopup()}function wpestate_createMarker_sh(e,a,t,s,o,r,n,i,p,c,_,l,u,d,m,g,v,f,h,w,y,k,b,j,x){"use strict";var Q=new google.maps.LatLng(p,c),I=0,C=" price_infobox ";if("yes"===mapfunctions_vars.useprice&&mapfunctions_vars.hidden_map){Q=new google.maps.LatLng(p,c);var L=jQuery("<textarea />").html(l).text(),z=999;I=11;var S=m,B=parseFloat(wpestate_getCookie_map("my_custom_curr_pos"));if(!isNaN(B)&&-1!==B){var P=wpestate_get_price_currency(b,b),T=m.match("</span>(.*)<span class=");null!==T&&(S=m.replace(T[1],P))}M=new WpstateMarker(I,Q,s,L,u,d,i,S,e,g,v,f,n,y,k,b,r,j,x,_,z)}else{C=" classic_info ";var M=new google.maps.Marker({position:Q,map:s,icon:wpestate_custompin(_),shape:shape,title:l,zIndex:u,image:d,idul:i,price:m,category:g,action:v,link:f,city:h,area:w,infoWindowIndex:n,rooms:y,baths:k,cleanprice:b,size:r,county_state:o,category_name:j,action_name:x})}t.push(M),google.maps.event.addListener(M,"click",function(){info_image=""===this.image?'<img src="'+mapfunctions_vars.path+'/idxdefault.jpg"  />':this.image;var e,t,o,r=decodeURIComponent(this.category.replace(/-/g," ")),n=decodeURIComponent(this.action.replace(/-/g," "));mapfunctions_vars.in_text;e=""!=this.baths&&0!=this.baths?'<span id="infobath">'+this.baths+" "+mapfunctions_vars.ba+"</span>":"",t=""!=this.rooms&&0!=this.rooms?'<span id="inforoom">'+this.rooms+" "+mapfunctions_vars.bd+"</span>":"",""!=this.size?(o='<span id="infosize">'+this.size,o+="</span>"):o="";var i=this.title.substr(0,30);this.title.length>30&&(i+="..."),a.setContent(wpestate_generate_infobox_sh(C,i,f,info_image,m,b,o,e,t)),a.open(s,this),s.setCenter(this.position),"no"===control_vars.show_adv_search_map_close&&($(".search_wrapper").addClass("adv1_close"),wpestate_adv_search_click()),wpestate_close_adv_search()})}function wpestate_change_map_type(e){"use strict";"map-view-roadmap"===e?map.setMapTypeId(google.maps.MapTypeId.ROADMAP):"map-view-satellite"===e?map.setMapTypeId(google.maps.MapTypeId.SATELLITE):"map-view-hybrid"===e?map.setMapTypeId(google.maps.MapTypeId.HYBRID):"map-view-terrain"===e&&map.setMapTypeId(google.maps.MapTypeId.TERRAIN)}function wpestate_setMarkers(e,a,t){"use strict";var s=parseInt(jQuery("#gmap_wrapper").attr("data-post_id"));isNaN(s)&&(s=parseInt(jQuery("#googleMapSlider").attr("data-post_id"),10));parseInt(mapfunctions_vars.open_height,10),parseInt(mapfunctions_vars.closed_height,10);width_browser=jQuery(window).width(),infobox_width=700,vertical_pan=-215,width_browser<900&&(infobox_width=500),width_browser<600&&(infobox_width=400),width_browser<400&&(infobox_width=200),bounds=new google.maps.LatLngBounds;for(var o=0;o<a.length;o++){var r=a[o],n=r[10],i=r[1],p=r[2],c=decodeURIComponent(r[0]),_=r[8],l=r[3],u=decodeURIComponent(r[4]),d=decodeURIComponent(r[5]),m=decodeURIComponent(r[6]),g=decodeURIComponent(r[7]),v=decodeURIComponent(r[9]),f=r[11],h=r[12],w=r[13],y=r[14],k=decodeURIComponent(r[15]),b=decodeURIComponent(r[16]),j=decodeURIComponent(r[17]);wpestate_createMarker(j,y,o,n,i,p,_,c,l,u,d,m,g,v,h,w,f,k,b),s===n&&(found_id=o)}wpestate_map_cluster(),jQuery("body").hasClass("single-estate_property")||(oms=new OverlappingMarkerSpiderfier(e,{markersWontMove:!0,markersWontHide:!0,keepSpiderfied:!0,legWeight:2}),wpestate_setOms(gmarkers)),1===t&&(bounds.isEmpty()?wpestate_fit_bounds_nolsit():wpestate_fit_bounds(bounds)),"0"!==mapfunctions_vars.generated_pins&&new google.maps.LatLng(i,p)}function wpestate_createMarker(e,a,t,s,o,r,n,i,p,c,_,l,u,d,m,g,v,f,h){"use strict";var w=new google.maps.LatLng(o,r),y=jQuery("<textarea />").html(i).text(),k=0,b=" price_infobox ",j=document.createElement("div"),x={content:j,disableAutoPan:!0,maxWidth:infobox_width,boxClass:"mybox",zIndex:null,closeBoxMargin:"-13px 0px 0px 0px",closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!0};if(infoBox=new InfoBox(x),"yes"===mapfunctions_vars.useprice){var Q=_,I=parseFloat(wpestate_getCookie_map("my_custom_curr_pos"));if(!isNaN(I)&&-1!==I){var C=wpestate_get_price_currency(v,v),L=_.match("</span>(.*)<span class=");null!==L&&(Q=_.replace(L[1],C))}var z=new google.maps.LatLng(o,r);S=new WpstateMarker(k,z,map,y,p,c,s,Q,e,l,u,d,t,m,g,v,a,f,h,n,t)}else{b=" classic_info ";var S=new google.maps.Marker({position:w,map:map,icon:wpestate_custompin(n),shape:shape,title:y,zIndex:p,image:c,idul:s,price:_,category:l,action:u,link:d,infoWindowIndex:t,rooms:m,baths:g,cleanprice:v,size:a,category_name:f,action_name:h})}gmarkers.push(S),bounds.extend(S.getPosition()),google.maps.event.addListener(S,"click",function(e){"undefined"==typeof is_map_shortcode&&(wpestate_map_callback(wpestate_new_open_close_map),google.maps.event.trigger(map,"resize")),info_image=""===this.image?'<img src="'+mapfunctions_vars.path+'/idxdefault.jpg" />':this.image;var a,t,s,o=decodeURIComponent(this.category.replace(/-/g," ")),r=decodeURIComponent(this.action.replace(/-/g," "));decodeURIComponent(this.category_name.replace(/-/g," ")),decodeURIComponent(this.action_name.replace(/-/g," ")),mapfunctions_vars.in_text;a=""!=this.baths&&0!=this.baths?'<span id="infobath">'+this.baths+" "+mapfunctions_vars.ba+"</span>":"",t=""!=this.rooms&&0!=this.rooms?'<span id="inforoom">'+this.rooms+" "+mapfunctions_vars.bd+"</span>":"",""!=this.size?(s='<span id="infosize">'+this.size,s+="</span>"):s="";var n=this.title.substr(0,30);this.title.length>30&&(n+="..."),infoBox.setContent(wpestate_generate_infobox(b,n,d,info_image,_,v,s,a,t)),infoBox.open(map,this),map.setCenter(this.position),"no"===control_vars.show_adv_search_map_close&&($(".search_wrapper").addClass("adv1_close"),wpestate_adv_search_click()),wpestate_close_adv_search()})}function wpestate_pan_to_last_pin(e){"use strict";map.setCenter(e)}function wpestate_generate_infobox(e,a,t,s,o,r,n,i,p){var c='<div class="info_details '+e+'"><span id="infocloser" onClick=\'javascript:infoBox.close();\' ></span>';return c=c+'<div class="infobox_wrapper_image"> <a href="'+t+'">'+s+"</a></div>",c=c+'<div class="infobox_title"><a href="'+t+'" id="infobox_title">'+a+"</a></div>",c=c+'<div class="prop_pricex">'+wpestate_get_price_currency(o,r)+"</div>",c=c+'<div class="infobox_details">'+p+" "+i+" "+n+"</div></div>",c}function wpestate_generate_infobox_sh(e,a,t,s,o,r,n,i,p){var c='<div class="info_details '+e+'"><span id="infocloser" onClick=\'javascript:infoBox_sh.close();\' ></span>';return c=c+'<div class="infobox_wrapper_image"> <a href="'+t+'">'+s+"</a></div>",c=c+'<div class="infobox_title"><a href="'+t+'" id="infobox_title">'+a+"</a></div>",c=c+'<div class="prop_pricex">'+wpestate_get_price_currency(o,r)+"</div>",c=c+'<div class="infobox_details">'+p+" "+i+" "+n+"</div></div>",c}function wpestate_generate_infobox_leaflet(e,a,t,s,o,r,n,i,p){a=a.substr(0,32);a.length>32&&(a+="...");var c='<div class="info_details '+e+'"><span id="infocloser" onClick=\'javascript:jQuery(".leaflet-popup-close-button")[0].click();\' ></span>';return c=c+'<div class="infobox_wrapper_image"> <a href="'+t+'">'+s+"</a></div>",c=c+'<div class="infobox_title"><a href="'+t+'" id="infobox_title">'+a+"</a></div>",c=c+'<div class="prop_pricex">'+wpestate_get_price_currency(o,r)+"</div>",c=c+'<div class="infobox_details">'+p+" "+i+" "+n+"</div></div>",c}function wpestate_setOms(e){"use strict";for(var a=0;a<e.length;a++)"undefined"!=typeof oms&&oms.addMarker(e[a])}function wpestate_set_google_search(e){"use strict";var a,t,s,o;2!=parseInt(mapbase_vars.wp_estate_kind_of_map)&&0!==jQuery("#google-default-search").length&&(a=document.getElementById("google-default-search"),t=new google.maps.places.SearchBox(a),google.maps.event.addListener(t,"places_changed",function(){if(s=t.getPlaces(),0!=s.length){for(var a=new google.maps.LatLngBounds,r=0;o=s[r];r++){var n={url:o.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)},i=new google.maps.Marker({map:e,icon:n,title:o.name,position:o.geometry.location});gmarkers.push(i),a.extend(o.geometry.location)}e.fitBounds(a),a.isEmpty()?wpestate_fit_bounds_nolsit():wpestate_fit_bounds(a),e.setZoom(15)}}),google.maps.event.addListener(e,"bounds_changed",function(){var a=e.getBounds();t.setBounds(a)}))}function wpestate_fit_bounds_nolsit(){"use strict";map.setZoom(3)}function wpestate_fit_bounds(e){"use strict";""!=placeCircle?map.fitBounds(placeCircle.getBounds()):(map.fitBounds(e),google.maps.event.addListenerOnce(map,"idle",function(){map.getZoom()>15&&map.setZoom(15)}))}function wpestate_new_open_close_map(e){"use strict";if(!jQuery("#gmap_wrapper").hasClass("fullmap")&&"1"!==mapfunctions_vars.open_close_status){var a=jQuery("#googleMap").outerHeight(),t=parseInt(mapfunctions_vars.closed_height,10),s=parseInt(mapfunctions_vars.open_height,10),o=s,r=s;null!==infoBox&&infoBox.close(),a===t?(o=s,Modernizr.mq("only all and (max-width: 940px)")?r=s:(jQuery("#gmap-menu").show(),r=s),wpestate_new_show_advanced_search(),vertical_off=0,jQuery("#openmap").empty().append('<i class="fas fa-angle-up"></i>'+mapfunctions_vars.close_map)):2===e&&(jQuery("#gmap-menu").hide(),jQuery("#advanced_search_map_form").hide(),o=r=t,wpestate_new_hide_advanced_search(),vertical_off=150),jQuery("#gmap_wrapper").css("height",r+"px"),jQuery("#googleMap").css("height",o+"px"),jQuery(".tooltip").fadeOut("fast"),1===wp_estate_kind_of_map&&setTimeout(function(){google.maps.event.trigger(map,"resize")},300)}}function wpestate_map_cluster(){"use strict";"yes"===mapfunctions_vars.user_cluster&&(clusterStyles=[{textColor:"#ffffff",opt_textColor:"#ffffff",url:images.cloud_pin,height:72,width:72,textSize:15}],mcOptions={gridSize:50,ignoreHidden:!0,maxZoom:parseInt(mapfunctions_vars.zoom_cluster,10),styles:clusterStyles},mcluster=new MarkerClusterer(map,gmarkers,mcOptions),mcluster.setIgnoreHidden(!0))}function wpestate_myposition(e){"use strict";var a;navigator.geolocation?"https:"===location.protocol?navigator.geolocation.getCurrentPosition(wpestate_showMyPosition_original,wpestate_errorCallback,{timeout:1e4}):jQuery.getJSON("http://ipinfo.io",function(e){a=e.loc.split(","),wpestate_showMyPosition(a)}):alert(mapfunctions_vars.geo_no_brow)}function wpestate_errorCallback(){"use strict";alert(mapfunctions_vars.geo_no_pos)}function wpestate_showMyPosition_original(e){"use strict";if(1===wp_estate_kind_of_map){var a={coord:[1,1,1,38,38,59,59,1],type:"poly"},t=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);map.setCenter(t);var s=new google.maps.Marker({position:t,map:map,icon:wpestate_custompinchild(),shape:a,title:"",zIndex:999999999,image:"",price:"",category:"",action:"",link:"",infoWindowIndex:99,radius:parseInt(mapfunctions_vars.geolocation_radius,10)+" "+mapfunctions_vars.geo_message}),o={strokeColor:"#67cfd8",strokeOpacity:.6,strokeWeight:1,fillColor:"#67cfd8",fillOpacity:.2,map:map,center:t,radius:parseInt(mapfunctions_vars.geolocation_radius,10)},r=(new google.maps.Circle(o),new Label({map:map}));r.bindTo("position",s),r.bindTo("text",s,"radius"),r.bindTo("visible",s),r.bindTo("clickable",s),r.bindTo("zIndex",s)}else{var n=[e.coords.latitude,e.coords.longitude];wprentals_draw_leaflet_circle(n)}}function wpestate_showMyPosition(e){"use strict";1===wp_estate_kind_of_map?wpresidence_draw_google_circle(e):2===wp_estate_kind_of_map&&wprentals_draw_leaflet_circle(e)}function wprentals_draw_leaflet_circle(e){L.circle([e[0],e[1]],parseInt(mapfunctions_vars.geolocation_radius,10)).addTo(map);var a={iconUrl:wprentals_custompinchild_leaflet(),iconSize:[38,59],iconAnchor:[20,50],popupAnchor:[1,-50]},t={riseOnHover:!0},s=L.latLng(e[0],e[1]);t.icon=L.icon(a),L.marker(s,t).addTo(map);var o='<div class="wpresidence_leaflet_label">';o+=parseInt(mapfunctions_vars.geolocation_radius,10)+" "+mapfunctions_vars.geo_message,o+="</div>";var r=L.divIcon({className:"someclass",iconSize:new L.Point(0,0),html:o});L.marker(s,{icon:r}).addTo(map),map.panTo(s),map.setZoom(10)}function wpresidence_draw_google_circle(e){"use strict";for(var a=0;a<geo_markers.length;a++)geo_markers[a].setMap(null),geo_circle[a].setMap(null),geo_label[a].setMap(null);geo_markers=[],geo_circle=[],geo_label=[];var t={coord:[1,1,1,38,38,59,59,1],type:"poly"},s=new google.maps.LatLng(e[0],e[1]);map.setCenter(s),map.setZoom(13);var o=new google.maps.Marker({position:s,map:map,icon:wpestate_custompinchild(),shape:t,title:"",zIndex:999999999,image:"",price:"",category:"",action:"",link:"",infoWindowIndex:99,radius:parseInt(mapfunctions_vars.geolocation_radius,10)+" "+mapfunctions_vars.geo_message});geo_markers.push(o);var r={strokeColor:"#67cfd8",strokeOpacity:.6,strokeWeight:1,fillColor:"#67cfd8",fillOpacity:.2,map:map,center:s,radius:parseInt(mapfunctions_vars.geolocation_radius,10)},n=new google.maps.Circle(r);geo_circle.push(n);var i=new Label({map:map});i.bindTo("position",o),i.bindTo("text",o,"radius"),i.bindTo("visible",o),i.bindTo("clickable",o),i.bindTo("zIndex",o),geo_label.push(n)}function wpestate_custompinchild(){"use strict";var e,a,t="",s=jQuery(window).dense("devicePixelRatio");return s>1&&(t="_2x"),void 0===images.userpin||""===images.userpin?e=mapfunctions_vars.path+"/userpin"+t+".png":(e=images.userpin,s>1&&(e=wpestate_get_custom_retina_pin(e))),a=s>1?{url:e,size:new google.maps.Size(88,96),scaledSize:new google.maps.Size(44,48),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(16,59)}:{url:e,size:new google.maps.Size(59,59),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(16,59)},a}function wpestate_getCookieMap(e){"use strict";for(var a=e+"=",t=document.cookie.split(";"),s=0;s<t.length;s++){for(var o=t[s];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(a))return o.substring(a.length,o.length)}return""}function wpestate_get_custom_value_tab_search(e){"use strict";var a="";return"adv_categ"===e||"adv_actions"===e||"advanced_city"===e||"advanced_area"===e||"county-state"===e?jQuery(".tab-pane.active #"+e).hasClass("wpestate-selectpicker")?(a=jQuery(".tab-pane.active #"+e).val(),""==a&&(a="all")):a=jQuery(".tab-pane.active #"+e).attr("data-value"):"property_price"===e&&"yes"===mapfunctions_vars.slider_price?a=jQuery(".tab-pane.active #price_low").val():"property-country"===e?a=jQuery(".tab-pane.active #advanced_country").attr("data-value"):"property_status"===e?jQuery(".tab-pane.active #adv_status").hasClass("wpestate-selectpicker")?(a=jQuery(".tab-pane.active #adv_status").val(),""==a&&(a="all")):a=jQuery(".tab-pane.active #adv_status").attr("data-value"):"adv_location"===e?(a=jQuery(".tab-pane.active .adv_locations_search").val(),jQuery(".adv_locations_search").each(function(){})):""!==e&&(jQuery(".tab-pane.active #"+e).hasClass("filter_menu_trigger")?(a=jQuery(".tab-pane.active #"+e).attr("data-value"),1):a=jQuery(".tab-pane.active #"+e).val()),a}function wpestate_get_custom_value(e){"use strict";var a;return"adv_categ"===e||"adv_actions"===e||"advanced_city"===e||"advanced_area"===e||"county-state"===e?(a=jQuery("#"+e).attr("data-value"),jQuery("#"+e).hasClass("wpestate-selectpicker")?(a=jQuery("#"+e).val(),""==a&&(a="all")):a=jQuery("#"+e).attr("data-value")):"property_price"===e&&"yes"===mapfunctions_vars.slider_price?a=jQuery("#price_low").val():"property_status"===e?jQuery("#adv_status").hasClass("wpestate-selectpicker")?(a=jQuery("#adv_status").val(),""==a&&(a="all")):a=jQuery("#adv_status").attr("data-value"):"property-country"===e?a=jQuery("#advanced_country").attr("data-value"):"adv_location"===e?a=jQuery(".adv_locations_search").val():jQuery("#"+e).hasClass("filter_menu_trigger")?(a=jQuery("#"+e).attr("data-value"),1):a=jQuery("#"+e).val(),a}function wpestate_show_pins(){"use strict";var e,a,t,s,o,r,n,i,p,c,_,l,u;if(jQuery("#results").show(),jQuery("#results_wrapper").empty().append('<div class="preview_results_loading">'+mapfunctions_vars.loading_results+"</div>").show(),"undefined"!=typeof infoBox&&null!==infoBox&&infoBox.close(),jQuery("#gmap-loading").show(),"undefined"!=typeof googlecode_regular_vars){if(("8"===mapfunctions_vars.adv_search_type||"9"===mapfunctions_vars.adv_search_type)&&"1"!==mapfunctions_vars.is_half_map_list)return void wpestate_show_pins_type2_tabs();if("2"===mapfunctions_vars.adv_search_type&&"1"!==mapfunctions_vars.is_half_map_list&&"1"!==mapfunctions_vars.is_adv_search)return void wpestate_show_pins_type2()}else{if("8"===mapfunctions_vars.adv_search_type||"9"===mapfunctions_vars.adv_search_type)return void wpestate_show_pins_type2_tabs();if("2"===mapfunctions_vars.adv_search_type&&"1"!==mapfunctions_vars.is_half_map_list)return void wpestate_show_pins_type2()}if("yes"!==mapfunctions_vars.custom_search){e=jQuery("#adv_actions").attr("data-value"),a=jQuery("#adv_categ").attr("data-value"),t=jQuery("#advanced_city").attr("data-value"),s=jQuery("#advanced_area").attr("data-value"),o=parseFloat(jQuery("#adv_rooms").val(),10),r=parseFloat(jQuery("#adv_bath").val(),10),n=parseFloat(jQuery("#price_low").val(),10),i=parseFloat(jQuery("#price_max").val(),10),c=parseFloat(jQuery("#adv-search-1").attr("data-postid"),10),p=ajaxcalls_vars.admin_url+"admin-ajax.php",1===parseInt(mapfunctions_vars.is_half)&&(0===first_time_wpestate_show_inpage_ajax_half?first_time_wpestate_show_inpage_ajax_half=1:wpestate_show_inpage_ajax_half()),l="",jQuery('.search_wrapper .extended_search_check_wrapper  input[type="checkbox"]').each(function(){jQuery(this).is(":checked")&&(l=l+","+jQuery(this).attr("name-title"))}),_=0,u=0,jQuery("#google_map_prop_list_sidebar").length&&(_=1),c=1,document.getElementById("search_wrapper")&&(c=parseInt(jQuery("#search_wrapper").attr("data-postid"),10));var d="",m="",g="";jQuery("#geolocation_search").length>0&&(d=jQuery("#geolocation_lat").val(),m=jQuery("#geolocation_long").val(),g=jQuery("#geolocation_radius").val());var v=jQuery("#wpestate_ajax_filtering").val();jQuery.ajax({type:"POST",url:p,dataType:"json",data:{action:"wpestate_classic_ondemand_pin_load",action_values:e,category_values:a,city:t,area:s,advanced_rooms:o,advanced_bath:r,price_low:n,price_max:i,newpage:u,postid:c,halfmap:_,all_checkers:l,geo_lat:d,geo_long:m,geo_rad:g,security:v},success:function(e){var a=parseInt(e.no_results);0!==a?wpestate_load_on_demand_pins(e.markers,a,1):wpestate_show_no_results(),jQuery("#gmap-loading").hide()},error:function(e){}})}else wpestate_show_pins_custom_search()}function wpestate_show_pins_type2(){"use strict";var e,a,t,s;e=jQuery("#adv_actions").attr("data-value"),a=jQuery("#adv_categ").attr("data-value"),t=jQuery("#adv_location").val(),parseInt(jQuery("#adv-search-1").attr("data-postid"),10),s=ajaxcalls_vars.admin_url+"admin-ajax.php",jQuery("#google_map_prop_list_sidebar").length,document.getElementById("search_wrapper")&&parseInt(jQuery("#search_wrapper").attr("data-postid"),10);var o=jQuery("#wpestate_ajax_filtering").val();jQuery.ajax({type:"POST",url:s,dataType:"json",data:{action:"wpestate_classic_ondemand_pin_load_type2",action_values:e,category_values:a,location:t,security:o},success:function(e){var a=parseInt(e.no_results);0!==a?wpestate_load_on_demand_pins(e.markers,a,1):wpestate_show_no_results(),jQuery("#gmap-loading").hide()},error:function(e){}}),1===parseInt(mapfunctions_vars.is_half)&&(0===first_time_wpestate_show_inpage_ajax_half?first_time_wpestate_show_inpage_ajax_half=1:wpestate_show_inpage_ajax_half())}function wpestate_show_pins_type2_tabs(){"use strict";var e,a,t,s,o,r;e=jQuery(".tab-pane.active #adv_actions").attr("data-value"),void 0===e&&(e=""),a=jQuery(".tab-pane.active #adv_categ").attr("data-value"),void 0===a&&(a=""),t=jQuery(".tab-pane.active #adv_location").val(),r=jQuery(".tab-pane.active .picked_tax").val(),parseInt(jQuery("#adv-search-1").attr("data-postid"),10),s=ajaxcalls_vars.admin_url+"admin-ajax.php",s=ajaxcalls_vars.wpestate_ajax,jQuery("#google_map_prop_list_sidebar").length,document.getElementById("search_wrapper")&&parseInt(jQuery("#search_wrapper").attr("data-postid"),10);jQuery(".tab-pane.active .term_id_class").val();o="",jQuery('.tab-pane.active .extended_search_check_wrapper input[type="checkbox"]').each(function(){jQuery(this).is(":checked")&&(o=o+","+jQuery(this).attr("name-title"))});var n=jQuery("#wpestate_ajax_filtering").val();jQuery.ajax({type:"POST",url:s,dataType:"json",data:{action:"wpestate_classic_ondemand_pin_load_type2_tabs",action_values:e,category_values:a,location:t,picked_tax:r,all_checkers:o,security:n},success:function(e){var a=parseInt(e.no_results);0!==a?wpestate_load_on_demand_pins(e.markers,a,1):wpestate_show_no_results(),jQuery("#gmap-loading").hide()},error:function(e){}}),1===parseInt(mapfunctions_vars.is_half)&&(0===first_time_wpestate_show_inpage_ajax_half?first_time_wpestate_show_inpage_ajax_half=1:wpestate_show_inpage_ajax_half())}function wpestate_show_pins_custom_search(){"use strict";var e,a,t,s,o,r,n,i,p,c,_,l,u;e=ajaxcalls_vars.wpestate_ajax,t=parseInt(mapfunctions_vars.fields_no,10),a=t,r=[],o=[],s=[],o=JSON.parse(JSON.stringify(mapfunctions_vars.slugs)),s=JSON.parse(JSON.stringify(mapfunctions_vars.hows));var d,m=0;if("yes"===mapfunctions_vars.slider_price&&(l=jQuery("#price_low").val(),u=jQuery("#price_max").val()),jQuery(".wpresidence-component3-min-price_input_class").length>0&&(l=jQuery(".wpresidence-component3-min-price_input_class").val(),u=jQuery(".wpresidence-component3-max-price_input_class").val()),m=parseInt(jQuery(".tab-pane.active").find(".term_counter").val(),10),"6"===mapfunctions_vars.adv_search_type||"7"===mapfunctions_vars.adv_search_type){i=jQuery(".tab-pane.active .term_id_class").val(),"yes"===mapfunctions_vars.slider_price&&(l=jQuery("#price_low_"+i).val(),u=jQuery("#price_max_"+i).val()),jQuery(".tab-pane.active .wpresidence-component3-min-price_input_class").length>0&&(l=jQuery(".tab-pane.active .wpresidence-component3-min-price_input_class").val(),u=jQuery(".tab-pane.active .wpresidence-component3-max-price_input_class").val());var g=m*mapfunctions_vars.fields_no;for(m>0&&(t=t*m+t),d=g;d<t;d++)n="date bigger"==s[d]||"date smaller"==s[d]?wpestate_get_custom_value_tab_search(i+o[d]):wpestate_get_custom_value_tab_search(o[d]),void 0===n&&(n=""),r.push(n)}else for(d=0;d<t;d++)n=wpestate_get_custom_value(o[d]),void 0===n&&(n=""),r.push(n);if("6"===mapfunctions_vars.adv_search_type||"7"===mapfunctions_vars.adv_search_type||"8"===mapfunctions_vars.adv_search_type||"9"===mapfunctions_vars.adv_search_type){var v=jQuery(".adv_search_tab_item.active").attr("data-tax");jQuery(".halfsearch")[0]&&(v=jQuery(".halfsearch").attr("data-tax")),"property_category"===v?o[t]="adv_categ":"property_action_category"===v?o[t]="adv_actions":"property_city"===v?o[t]="advanced_city":"property_area"===v?o[t]="advanced_area":"property_county_state"===v&&(o[t]="county-state"),s[t]="like",r[a]=jQuery(".adv_search_tab_item.active").attr("data-term")}1===parseInt(mapfunctions_vars.is_half)&&(0===first_time_wpestate_show_inpage_ajax_half?first_time_wpestate_show_inpage_ajax_half=1:wpestate_show_inpage_ajax_half());var f="";"6"===mapfunctions_vars.adv_search_type?jQuery('.tab-pane.active .extended_search_check_wrapper  input[type="checkbox"]').each(function(){jQuery(this).is(":checked")&&(f=f+","+jQuery(this).attr("name-title"))}):jQuery('.search_wrapper .extended_search_check_wrapper  input[type="checkbox"]').each(function(){jQuery(this).is(":checked")&&(f=f+","+jQuery(this).attr("name-title"))}),p=0,c=0,jQuery("#google_map_prop_list_sidebar").length&&(p=1),_=1,document.getElementById("search_wrapper")&&(_=parseInt(jQuery("#search_wrapper").attr("data-postid"),10));var h="",w="";"10"===mapfunctions_vars.adv_search_type&&(h=jQuery("#adv_actions").attr("data-value"),w=jQuery("#adv_location").val());var y="",k="",b="";b=jQuery("#keyword").val(),"11"===mapfunctions_vars.adv_search_type&&(y=jQuery("#adv_actions").attr("data-value"),k=jQuery("#adv_categ").attr("data-value"),b=jQuery("#keyword_search").val());var j="",x="",Q="",I="",C="";jQuery("#geolocation_search").length>0&&(j=jQuery("#geolocation_lat").val(),x=jQuery("#geolocation_long").val(),Q=jQuery("#geolocation_radius").val()),jQuery(".tab-pane.active .geolocation_search_item").length>0&&(j=jQuery(".tab-pane.active .geolocation_lat").val(),x=jQuery(".tab-pane.active .geolocation_long").val(),Q=jQuery(".tab-pane.active #geolocation_radius").val()),jQuery(".wpestate-beds-baths-popoup-component").length>0&&(I=jQuery(".wpresidence-componentsbeds").val(),C=jQuery(".wpresidence-componentsbaths").val()),jQuery(".tab-pane.active .wpestate-beds-baths-popoup-component").length>0&&(I=jQuery(".tab-pane.active .wpresidence-componentsbeds").val(),C=jQuery(".tab-pane.active .wpresidence-componentsbaths").val());var L=jQuery("#wpestate_ajax_filtering").val();jQuery.ajax({type:"POST",url:e,dataType:"json",data:{action:"wpestate_custom_ondemand_pin_load",search_type:mapfunctions_vars.adv_search_type,val_holder:r,newpage:c,postid:_,halfmap:p,slider_min:l,slider_max:u,all_checkers:f,filter_search_action10:h,adv_location10:w,filter_search_action11:y,filter_search_categ11:k,keyword_search:b,geo_lat:j,geo_long:x,geo_rad:Q,term_counter:m,
componentsbeds:I,componentsbaths:C,security:L},success:function(e){var a=parseInt(e.no_results);0!==a?wpestate_load_on_demand_pins(e.markers,a,1):(wpestate_show_no_results(),wpestate_start_placing_geo_marker()),jQuery("#gmap-loading").hide()},error:function(e){}})}function wpestate_empty_map(){"use strict";if("undefined"!=typeof gmarkers)if(1==wp_estate_kind_of_map){for(var e=0;e<gmarkers.length;e++)gmarkers[e].setVisible(!1),gmarkers[e].setMap(null);gmarkers=[],void 0!==mcluster&&mcluster.clearMarkers()}else if(2==wp_estate_kind_of_map&&"undefined"!=typeof map){if("yes"===mapfunctions_vars.user_cluster)map.hasLayer(markers_cluster)&&map.removeLayer(markers_cluster);else for(e=0;e<gmarkers.length;e++)map.removeLayer(gmarkers[e]);gmarkers=[],markers_cluster=L.markerClusterGroup({showCoverageOnHover:!1,iconCreateFunction:function(e){return L.divIcon({html:'<div class="leaflet_cluster">'+e.getChildCount()+"</div>"})}}),map.addLayer(markers_cluster)}}function wpestate_load_on_demand_pins(e,a,t){"use strict";jQuery("#gmap-noresult").hide(),wpestate_empty_map(),document.getElementById("googleMap")?(bounds_list=void 0,wpresidence_map_general_set_markers(map,e,1),wpestate_preview_listings(e),wpresidence_map_general_cluster(),wpresidence_map_general_fit_to_bounds(1)):wpestate_preview_listings(e),wpestate_start_placing_geo_marker()}function wpestate_start_placing_geo_marker(){if(0===initialGeop){var e=jQuery("#geolocation_lat").val(),a=jQuery("#geolocation_long").val();""!==e&&""!=a&&void 0!==e&&void 0!==a&&(initialGeop=1,wpestate_geolocation_marker(e,a))}}function wpestate_preview_listings(e){"use strict";var a=0,t="",s="",o="",r="",n="",i="";for(a=0;a<e.length;a++)s=decodeURIComponent(e[a][18]),o=decodeURIComponent(e[a][0]),r=decodeURIComponent(e[a][9]),n=decodeURIComponent(e[a][11]),i=wpestate_get_price_currency(decodeURIComponent(e[a][5]),n),t=t+'<div class="preview_listing_unit" data-href="'+r+'">'+s+" <h4>"+o+'</h4><div class="preview_details">'+i+"</div></div>";jQuery("#results_wrapper").empty(),jQuery("#results_no").show().text(e.length),jQuery("#results_wrapper").append(t),jQuery(".preview_listing_unit").on("click",function(e){var a;e.preventDefault(),a=jQuery(this).attr("data-href"),window.open(a,"_self",!1)})}function wpestate_get_price_currency(e,a){"use strict";var t="",s=decodeURIComponent(wpestate_getCookie_map("my_custom_curr_symbol")),o=parseFloat(wpestate_getCookie_map("my_custom_curr_coef")),r=parseFloat(wpestate_getCookie_map("my_custom_curr_pos")),n=wpestate_getCookie_map("my_custom_curr_cur_post");if(isNaN(r)||-1===r)t=e;else{var i=Number(a*o).toFixed(2);t="before"===n?s+" "+i:i+" "+s}return t}function wpestate_getCookie_map(e){"use strict";for(var a=e+"=",t=document.cookie.split(";"),s=0;s<t.length;s++){for(var o=t[s];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(a))return o.substring(a.length,o.length)}return""}function wpestate_show_no_results(){"use strict";jQuery("#results_no").show().text("0"),jQuery("#results_wrapper").empty().append('<div class="preview_results_loading">'+mapfunctions_vars.half_no_results+"</div>").show(),jQuery("#gmap-noresult").show(),document.getElementById("google_map_prop_list_wrapper")&&jQuery("#listing_ajax_container").empty().append('<p class=" no_results_title ">'+mapfunctions_vars.half_no_results+"</p>")}function wpestate_show_inpage_ajax_tip2(){"use strict";jQuery("#gmap-full").hasClass("spanselected")&&jQuery("#gmap-full").trigger("click"),"yes"===mapfunctions_vars.custom_search?wpestate_custom_search_start_filtering_ajax(1):wpestate_start_filtering_ajax(1)}function wpestate_show_inpage_ajax_half(){"use strict";jQuery(".half-pagination").remove(),"yes"===mapfunctions_vars.custom_search?wpestate_custom_search_start_filtering_ajax(1):wpestate_start_filtering_ajax(1)}function wpestate_enable_half_map_pin_action(){"use strict";jQuery("#google_map_prop_list_sidebar .listing_wrapper").each(function(e){var a=jQuery(this).attr("data-listid");jQuery(this).on("mouseenter",function(){wpestate_hover_action_pin(a)}),jQuery(this).on("mouseleave",function(){wpestate_return_hover_action_pin(a)})})}function wpestate_convertToSlug(e){"use strict";return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}function wpestate_get_custom_retina_pin(e){"use strict";var a;if(void 0!==e)return a=e.replace(".png","_2x.png"),jQuery.get(a).done(function(){e=a}).fail(function(){}),e}function wpestate_custompin(e){"use strict";if(!mapfunctions_vars.hidden_map)return e={path:google.maps.SymbolPath.CIRCLE,scale:60,fillColor:"#0073e1",fillOpacity:.4,strokeWeight:.2},e;var a,t="",s=jQuery(window).dense("devicePixelRatio");return s>1&&(t="_2x"),"no"===mapfunctions_vars.use_single_image_pin?(""!==e?void 0===images[e]||""===images[e]?a=mapfunctions_vars.path+"/"+e+t+".png":(a=images[e],s>1&&(a=wpestate_get_custom_retina_pin(a))):a=mapfunctions_vars.path+"/none.png",void 0===a&&(a=mapfunctions_vars.path+"/none.png")):a=s>1?wpestate_get_custom_retina_pin(images.single_pin):images.single_pin,e=s>1?{url:a,size:new google.maps.Size(118,118),scaledSize:new google.maps.Size(44,48),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(16,49),optimized:!1}:{url:a,size:new google.maps.Size(59,59),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(16,49)},e}function Label(e){"use strict";this.setValues(e);var a=this.span_=document.createElement("span");a.style.cssText="position: relative; left: -50%; top: 8px; white-space: nowrap;  padding: 2px; background-color: white;opacity:0.7";var t=this.div_=document.createElement("div");t.appendChild(a),t.style.cssText="position: absolute; display: none"}function wpestate_close_adv_search(){}function wpestate_new_show_advanced_search(){"use strict";jQuery("#search_wrapper").removeClass("hidden")}function wpestate_new_hide_advanced_search(){"use strict";"no"===mapfunctions_vars.show_adv_search&&jQuery("#search_wrapper").addClass("hidden")}function is_marker_in_cluster(e,a){for(var t=a.length,s=0;s<t;s++)if(a[s].idul==e)return!0;return!1}function wpestate_hover_action_pin(e){"use strict";for(var a=0;a<gmarkers.length;a++)parseInt(gmarkers[a].idul,10)===parseInt(e,10)&&(1===wp_estate_kind_of_map?(google.maps.event.trigger(gmarkers[a],"click"),"yes"!==mapfunctions_vars.useprice?(pin_hover_storage=gmarkers[a].icon,gmarkers[a].setIcon(wpestate_custompinhover())):gmarkers[a].addHoverClass()):2===wp_estate_kind_of_map&&wpestate_hover_action_pin_leaflet(e,a))}function wpestate_hover_action_pin_leaflet(e,a){const t=gmarkers[a];map.panTo(t.getLatLng()),markers_cluster.refreshClusters(),lealet_map_move_on_hover=1,t._icon||t.__parent.spiderfy(),t.togglePopup(),"yes"===mapfunctions_vars.useprice?L.DomUtil.addClass(t._icon,"openstreet_price_marker_on_click_parent"):t.setIcon(wpestate_custompinhover()),map.invalidateSize(),markers_cluster.refreshClusters()}function wpestate_return_hover_action_pin_leaflet(e,a){const t=gmarkers[a];if(t.togglePopup(),lealet_map_move_on_hover=0,t._icon||t.__parent.unspiderfy(),"yes"!==mapfunctions_vars.useprice){const e={iconUrl:wprentals_custompin_leaflet(t.pin),iconSize:[44,50],iconAnchor:[20,50],popupAnchor:[1,-50]};t.setIcon(L.icon(e))}else L.DomUtil.removeClass(t._icon,"openstreet_price_marker_on_click_parent");map.invalidateSize(),markers_cluster.refreshClusters()}function wpestate_return_hover_action_pin(e){"use strict";for(var a=0;a<gmarkers.length;a++)parseInt(gmarkers[a].idul,10)===parseInt(e,10)&&(1===wp_estate_kind_of_map?parseInt(gmarkers[a].idul,10)===parseInt(e,10)&&(infoBox.close(),"yes"!==mapfunctions_vars.useprice?gmarkers[a].setIcon(pin_hover_storage):gmarkers[a].removeHoverClass()):2===wp_estate_kind_of_map&&wpestate_return_hover_action_pin_leaflet(e,a))}function wpestate_custompinhover(){"use strict";var e,a,t="",s=jQuery(window).dense("devicePixelRatio");if(s>1&&(t="_2x"),e=mapfunctions_vars.path+"/hover"+t+".png",2===wp_estate_kind_of_map){if(s>1)var o=L.icon({iconUrl:e,iconSize:[90,90],iconAnchor:[40,90],popupAnchor:[1,-90]});else o=L.icon({iconUrl:e,iconSize:[44,50],iconAnchor:[20,50],popupAnchor:[1,-50]});return o}return a=s>1?{url:e,size:new google.maps.Size(132,144),scaledSize:new google.maps.Size(66,72),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(25,72)}:{url:e,size:new google.maps.Size(90,90),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(25,72)},a}function wpestate_map_callback(e){"use strict";e(1)}function wpestate_return_poi_values(e){var a;switch(e){case"transport":a=["bus_station","airport","train_station","subway_station"];break;case"supermarkets":a=["grocery_or_supermarket","shopping_mall"];break;case"schools":a=["school","university"];break;case"restaurant":a=["restaurant"];break;case"pharma":a=["pharmacy"];break;case"hospitals":a=["hospital"]}return a}function wpestate_googlemap_display_poi(e,a,t,s){if(google.maps.places.PlacesServiceStatus.OK==a)for(var o=0;o<e.length;o++)poi_marker=wpestate_create_poi_marker(e[o],t),s.push(poi_marker);return s}function wpestate_create_poi_marker(e,a){var t=new google.maps.Marker({map:a,position:e.geometry.location,show_poi:poi_type,icon:mapfunctions_vars.path+"/poi/"+poi_type+".png"}),s=document.createElement("div"),o=new InfoBox({content:s,boxClass:"estate_poi_box",pixelOffset:new google.maps.Size(-30,-70),zIndex:null,maxWidth:275,closeBoxMargin:"-13px 0px 0px 0px",closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),pane:"floatPane",enableEventPropagation:!1});return google.maps.event.addListener(t,"mouseover",function(t){o.setContent(e.name),o.open(a,this)}),google.maps.event.addListener(t,"mouseout",function(e){null!==o&&o.close()}),t}function wpestate_initialize_poi(e,a,t){"use strict";var s=[];if(2!=parseInt(mapbase_vars.wp_estate_kind_of_map)&&void 0!==google.maps.places){var o=new google.maps.places.PlacesService(e),r="",n=e.getBounds(),i=".google_poi";2==a&&(i=".google_poish");var p=jQuery("#"+t).parent();p.find(i).on("click",function(a){a.stopPropagation(),poi_type=jQuery(this).attr("data-value");var t=e.getCenter(),i=wpestate_return_poi_values(poi_type);if(jQuery(this).hasClass("poi_active"))wpestate_show_hide_poi(poi_type,"hide",s);else if(r=wpestate_show_hide_poi(poi_type,"show",s),1===r){var p={location:t,types:i,bounds:n,radius:2500};o.nearbySearch(p,function(a,t){s=wpestate_googlemap_display_poi(a,t,e,s)})}jQuery(this).toggleClass("poi_active")})}}function wpestate_show_hide_poi(e,a,t){for(var s=1,o=0;o<t.length;o++)t[o].show_poi===e&&("hide"===a?t[o].setVisible(!1):(t[o].setVisible(!0),s=0));return s}function wpestate_geolocation_marker(e,a){"use strict";var t,s=parseInt(jQuery("#geolocation_radius").val(),10);if(isNaN(s)&&(s=parseInt(mapfunctions_vars.geolocation_radius,10)),t="miles"===control_vars.geo_radius_measure?parseInt(1609.34*s):parseInt(1e3*s),1===wp_estate_kind_of_map){var o=new google.maps.LatLng(e,a);map.setCenter(o),""!=placeCircle&&(placeCircle.setMap(null),placeCircle="");var r={strokeColor:"#67cfd8",strokeOpacity:.6,strokeWeight:1,fillColor:"#1CA8DD",fillOpacity:.2,map:map,center:o,radius:parseInt(t,10)};placeCircle=new google.maps.Circle(r),map.fitBounds(placeCircle.getBounds())}else{var n=L.latLng(e,a);map.panTo(n);var i={iconUrl:mapfunctions_vars.path+"/poi/location.png",iconSize:[28,38],iconAnchor:[10,19],popupAnchor:[1,-18]},p={riseOnHover:!0};""!==circleLayer&&map.hasLayer(circleLayer)&&map.removeLayer(circleLayer),circleLayer=L.featureGroup(),p.icon=L.icon(i),L.marker(n,p).addTo(map),placeCircle=L.circle(n,parseInt(t,10)).addTo(circleLayer),map.addLayer(circleLayer),map.fitBounds(placeCircle.getBounds())}}function wpestate_makeSafeForCSS(e){return e.replace(/[^a-z0-9]/g,function(e){var a=e.charCodeAt(0);return 32==a?"-":a>=65&&a<=90?e.toLowerCase():("000"+a.toString(16)).slice(-4)})}var mcOptions,mcluster,clusterStyles,pin_hover_storage,panorama,bounds_list,pin_images=mapfunctions_vars.pin_images,images=jQuery.parseJSON(pin_images),ipad_time=0,infobox_id=0,shape={coord:[1,1,1,38,38,59,59,1],type:"poly"},first_time_wpestate_show_inpage_ajax_half=0,infoBox_sh=null,poi_type="",placeCircle="",initialGeop=0,heading=0,width_browser=null,infobox_width=null,wraper_height=null,info_image=null,vertical_pan=-190,vertical_off=150,curent_gview_lat=jQuery("#gmap_wrapper").attr("data-cur_lat"),curent_gview_long=jQuery("#gmap_wrapper").attr("data-cur_long"),circleLayer="";document.getElementById("gmapzoomplus")&&jQuery("#gmapzoomplus").on("click",function(){"use strict";var e=parseInt(map.getZoom(),10);e++,e>20&&(e=20),map.setZoom(e)}),document.getElementById("gmapzoomminus")&&jQuery("#gmapzoomminus").on("click",function(){"use strict";var e=parseInt(map.getZoom(),10);e--,e<0&&(e=0),map.setZoom(e)}),document.getElementById("geolocation-button")&&jQuery("#geolocation-button").on("click",function(){"use strict";wpestate_myposition(map),wpestate_close_adv_search()}),document.getElementById("mobile-geolocation-button")&&jQuery("#mobile-geolocation-button").on("click",function(){"use strict";wpestate_myposition(map),wpestate_close_adv_search()});var geo_markers=[],geo_circle=[],geo_label=[];document.getElementById("gmap")&&google.maps.event.addDomListener(document.getElementById("gmap"),"mouseout",function(){google.maps.event.trigger(map,"resize")}),document.getElementById("search_map_button")&&google.maps.event.addDomListener(document.getElementById("search_map_button"),"click",function(){infoBox.close()}),document.getElementById("advanced_search_map_button")&&google.maps.event.addDomListener(document.getElementById("advanced_search_map_button"),"click",function(){infoBox.close()}),jQuery("#gmap-next").on("click",function(e){"use strict";for(current_place++,external_action_ondemand=1,lealet_map_move_on_hover=1,current_place>gmarkers.length&&(current_place=1);!1===gmarkers[current_place-1].visible;)current_place++,current_place>gmarkers.length&&(current_place=1);map.getZoom()<15&&map.setZoom(15),1===wp_estate_kind_of_map?google.maps.event.trigger(gmarkers[current_place-1],"click"):2===wp_estate_kind_of_map&&(map.setView(gmarkers[current_place-1].getLatLng()),gmarkers[current_place-1]._icon||gmarkers[current_place-1].__parent.spiderfy(),lealet_map_move_on_hover=1,map.setZoom(20),current_place-1==0||current_place-1==gmarkers.length?setTimeout(function(){gmarkers[current_place-1].fire("click")},1e3):gmarkers[current_place-1].fire("click"),lealet_map_move_on_hover=1,wpestate_map_callback(wpestate_new_open_close_map))}),jQuery("#gmap-prev").on("click",function(e){"use strict";for(external_action_ondemand=1,lealet_map_move_on_hover=1,current_place--,current_place<1&&(current_place=gmarkers.length);!1===gmarkers[current_place-1].visible;)current_place--,current_place>gmarkers.length&&(current_place=1);map.getZoom()<15&&map.setZoom(15),1===wp_estate_kind_of_map?google.maps.event.trigger(gmarkers[current_place-1],"click"):2===wp_estate_kind_of_map&&(map.setView(gmarkers[current_place-1].getLatLng()),gmarkers[current_place-1]._icon||gmarkers[current_place-1].__parent.spiderfy(),lealet_map_move_on_hover=1,map.setZoom(20),current_place-1==0||current_place==gmarkers.length?setTimeout(function(){gmarkers[current_place-1].fire("click")},1e3):gmarkers[current_place-1].fire("click"),lealet_map_move_on_hover=1,wpestate_map_callback(wpestate_new_open_close_map)),current_place--}),jQuery(".advanced_action_div li").on("click",function(e){"use strict";jQuery(this).val()}),document.getElementById("gmap-menu")&&google.maps.event.addDomListener(document.getElementById("gmap-menu"),"click",function(e){"use strict";infoBox.close(),"INPUT"===e.target.nodeName&&(category=e.target.className,"filter_action[]"===e.target.name&&(-1!==actions.indexOf(category)?actions.splice(actions.indexOf(category),1):actions.push(category)),"filter_type[]"===e.target.name&&(-1!==categories.indexOf(category)?categories.splice(categories.indexOf(category),1):categories.push(category)),show(actions,categories))});var use_geolocation_marker=0;"undefined"!=typeof google&&(Label.prototype=new google.maps.OverlayView),Label.prototype.onAdd=function(){"use strict";var e=this.getPanes().overlayImage;e.appendChild(this.div_);var a=this;this.listeners_=[google.maps.event.addListener(this,"position_changed",function(){a.draw()}),google.maps.event.addListener(this,"visible_changed",function(){a.draw()}),google.maps.event.addListener(this,"clickable_changed",function(){a.draw()}),google.maps.event.addListener(this,"text_changed",function(){a.draw()}),google.maps.event.addListener(this,"zindex_changed",function(){a.draw()}),google.maps.event.addDomListener(this.div_,"click",function(){a.get("clickable")&&google.maps.event.trigger(a,"click")})]},Label.prototype.onRemove=function(){"use strict";this.div_.parentNode.removeChild(this.div_);for(var e=0,a=this.listeners_.length;e<a;++e)google.maps.event.removeListener(this.listeners_[e])},Label.prototype.draw=function(){"use strict";var e=this.getProjection(),a=e.fromLatLngToDivPixel(this.get("position")),t=this.div_;t.style.left=a.x+"px",t.style.top=a.y+"px";var s=this.get("visible");t.style.display=s?"block":"none";var o=this.get("clickable");this.span_.style.cursor=o?"pointer":"";var r=this.get("zIndex");t.style.zIndex=r,this.span_.innerHTML=this.get("text").toString()};